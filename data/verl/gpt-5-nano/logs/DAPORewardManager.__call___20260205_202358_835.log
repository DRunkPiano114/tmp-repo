================================================================================
测试时间: 2026-02-05 20:23:58
函数名: DAPORewardManager.__call__
测试文件: test_code/test_dapo_reward_manager.py
测试框架: unittest
返回码: 1
================================================================================

【STDOUT】
--------------------------------------------------------------------------------
(无输出)

【STDERR】
--------------------------------------------------------------------------------
FFF.FFFF.
======================================================================
FAIL: test_dapo_reward_manager_basic (__main__.TestDAPORewardManager.test_dapo_reward_manager_basic)
Test basic functionality
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 108, in test_dapo_reward_manager_basic
    torch.testing.assert_close(reward_tensor, expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 1 / 40 (2.5%)
Greatest absolute difference: 1.0 at index (0, 19) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 19) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_different_data_sources (__main__.TestDAPORewardManager.test_dapo_reward_manager_different_data_sources)
Test different data sources
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 555, in test_dapo_reward_manager_different_data_sources
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 2 / 60 (3.3%)
Greatest absolute difference: 1.0 at index (0, 19) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 19) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_overlong_penalty_disabled (__main__.TestDAPORewardManager.test_dapo_reward_manager_overlong_penalty_disabled)
Test when overlong penalty is disabled
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 221, in test_dapo_reward_manager_overlong_penalty_disabled
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 1 / 45 (2.2%)
Greatest absolute difference: 1.0 at index (0, 44) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 44) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_overlong_penalty_enabled_no_exceed (__main__.TestDAPORewardManager.test_dapo_reward_manager_overlong_penalty_enabled_no_exceed)
Test when overlong penalty is enabled but expected_len is not exceeded
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 272, in test_dapo_reward_manager_overlong_penalty_enabled_no_exceed
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 1 / 30 (3.3%)
Greatest absolute difference: 1.0 at index (0, 29) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 29) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_overlong_penalty_enabled_partial_exceed (__main__.TestDAPORewardManager.test_dapo_reward_manager_overlong_penalty_enabled_partial_exceed)
Test when overlong penalty is enabled and partially exceeds expected_len
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 327, in test_dapo_reward_manager_overlong_penalty_enabled_partial_exceed
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 1 / 45 (2.2%)
Greatest absolute difference: 0.5 at index (0, 44) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 44) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_overlong_penalty_with_log (__main__.TestDAPORewardManager.test_dapo_reward_manager_overlong_penalty_with_log)
Test when overlong logging is enabled
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 458, in test_dapo_reward_manager_overlong_penalty_with_log
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 2 / 90 (2.2%)
Greatest absolute difference: 1.0 at index (0, 29) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 29) (up to 0.0001 allowed)

======================================================================
FAIL: test_dapo_reward_manager_return_dict (__main__.TestDAPORewardManager.test_dapo_reward_manager_return_dict)
Test output when return_dict=True
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/verl/test_examples/DAPO/code/test_code/test_dapo_reward_manager.py", line 170, in test_dapo_reward_manager_return_dict
    torch.testing.assert_close(result["reward_tensor"], expected_reward_tensor, atol=1e-4, rtol=1e-4)
  File "/Users/paulwu/Desktop/KOCO-bench/KOCO-bench-en/domain_code_generation/venv_verl/lib/python3.11/site-packages/torch/testing/_comparison.py", line 1600, in assert_close
    raise error_metas[0].to_error(msg)
AssertionError: Tensor-likes are not close!

Mismatched elements: 1 / 40 (2.5%)
Greatest absolute difference: 1.0 at index (0, 19) (up to 0.0001 allowed)
Greatest relative difference: 1.0 at index (0, 19) (up to 0.0001 allowed)

----------------------------------------------------------------------
Ran 9 tests in 0.010s

FAILED (failures=7)

================================================================================
日志结束
