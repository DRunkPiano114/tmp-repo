================================================================================
Test time: 2026-02-19 19:13:26
Function name: initialzie
Test file: test_code/test_initialzie.py
Test framework: pytest
Return code: 0
================================================================================

【STDOUT】
--------------------------------------------------------------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.19, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3
cachedir: .pytest_cache
rootdir: /workspace/project/raganything/test_examples/obsidianGraphRAG/code
plugins: anyio-4.12.1, langsmith-0.7.3, asyncio-1.3.0
asyncio: mode=strict, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 5 items

test_code/test_initialzie.py::TestSimpleRAGAnythingCoreInitialization::test_initializes_with_config_when_new_db PASSED [ 20%]
test_code/test_initialzie.py::TestSimpleRAGAnythingCoreInitialization::test_initializes_with_lightrag_when_existing_db PASSED [ 40%]
test_code/test_initialzie.py::TestSimpleRAGAnythingCoreInitialization::test_initializes_with_config_when_rebuild_db PASSED [ 60%]
test_code/test_initialzie.py::test_initialize_new_database PASSED        [ 80%]
test_code/test_initialzie.py::test_load_existing_database PASSED         [100%]

============================== 5 passed in 18.84s ==============================

【STDERR】
--------------------------------------------------------------------------------
--- Logging error ---
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/raganything/raganything.py", line 144, in close
    asyncio.get_running_loop()
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/logging/__init__.py", line 1103, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "/usr/local/lib/python3.10/site-packages/raganything/raganything.py", line 149, in close
    asyncio.run(self.finalize_storages())
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.10/site-packages/lightrag/lightrag.py", line 745, in finalize_storages
    logger.info(
Message: 'Successfully finalized 12 storages'
Arguments: ()
--- Logging error ---
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/raganything/raganything.py", line 144, in close
    asyncio.get_running_loop()
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/logging/__init__.py", line 1103, in emit
    stream.write(msg + self.terminator)
ValueError: I/O operation on closed file.
Call stack:
  File "/usr/local/lib/python3.10/site-packages/raganything/raganything.py", line 149, in close
    asyncio.run(self.finalize_storages())
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 636, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 603, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 1909, in _run_once
    handle._run()
  File "/usr/local/lib/python3.10/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/local/lib/python3.10/site-packages/raganything/raganything.py", line 409, in finalize_storages
    self.logger.info("Successfully finalized all RAGAnything storages")
Message: 'Successfully finalized all RAGAnything storages'
Arguments: ()

================================================================================
Log end
